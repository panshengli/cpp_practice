# CPP Notes

- [2020.11.25] 
  1. **c++哪些可以重载？**
    - 除了类属关系运算符"."、成员指针运算符".*"、作用域运算符"::"、sizeof运算符和三目运算符"?:"
    - 以外，c++中的所有运算符都可以重载
    - 但=、()、[]、->这四个不能重载为类的友元函数
  2. **有100MB的内存，对1GB数据进行排序，最合适的算法是？**
  　　- (r) 归并排序
  3. **gcc 中-fPIC的作用**
  - 编译阶段，告诉编译器产生与位置无关代码(Position-Independent Code), 则产生的代码中，没有绝对地址，全部使用相对地址，故而代码可以被加载器加载到内存的任意位置，都以正确的执行
  - 如果不加-fPIC,则加载.so文件的代码段时,代码段引用的数据对象需要重定位, 重定位会修改代码段的内容,这就造成每个使用这个.so文件代码段的进程在内核里都会生成这个.so文件代码段的copy.每个copy都不一样,取决于 这个.so文件代码段和数据段内存映射的位置.
  4. **c++为什么用右值引用**
  - 移动语义：避免空间浪费，直接使用降低构造成本；
  - 完美转发：拷贝构造为左值引用，移动构造为右值引用，利用move将左值变为右值
  5. **TCP/IP原理**
  - 三次握手：
    - 客->服：链接建立的请求。SYN = 1，SYN包；
    - 服->客：确认服务器请求链接。SYN = 1, ACK = 1,SYN-ACK包。
    - 客->服：服务器上一个报文确认报文。ACK ＝ １，ACK包。
  - 四次握手：
    - 客->服：链接断开的请求。FIN = 1，FIN包；
    - 服->客：确认断开链接请求。ACK = 1,ACK包。
    - 服->客：服务器发送断开链接申请。FIN = 1，FIN包；
    - 客->服：确认服务器上一个报文断开连接确认。ACK ＝ １，ACK包

- [2020.12.17]
  1. **c++11新特性**
    - nullptr. nullptr出现的目的是为了替代NULL, C++会把NULL、0视为同一种东西
    - 类型推导 auto（c++11不能用于函数传参）
    - 区间迭代 启用了auto&
    - 初始化列表 类的初始化，如：A a {1, 1.1};
    - 模板增强 尖括号>, 传统C++，>>当做右移处理
    - Lambda 表达式
    - 无序容器 unordered_map/unordered_multimap 和 unordered_set/unordered_multiset
    - 右值引用和move语义
  2. **虚函数表**
    - 单继承情况
      - 若类有虚函数，构造函数编译器会自动为类的实例在内存的首部增添一个虚函数表指针vfptr,指向该类的虚函数表
      - 虚函数表中会存放该类所有的虚函数地址，普通函数则不会被放入其中
      - 子类重写了父类的虚函数，被重写的虚函数的地址被子类的虚函数替换
      - 父类指针BaseClass* base指向一个子类对象DerivedClass时，base->vfptr->virtualFunc，父类指针调用实际子类的成员函数
    - 多继承情况